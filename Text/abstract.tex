\documentclass[main.tex]{subfiles}
\begin{document}

\begin{abstract}
	CHERI-RISC-V is an extension of the RISC-V instruction set architecture with support for capabilities, a kind of pointer providing authority over a region of memory and for a set for operations. Capabilities allow for fine-grained memory protection and compartmentalisation but also form the basis of several proposed secure \gs{cc} which provide \g{lse} and \g{wbcf}, two security properties that ensure that call frames cannot be accessed from other procedures and enforce the \enquote{return-to-caller} principle.
	
	Researchers in the field painstakingly forked the LLVM compiler suite to include support for CHERI-RISC-V targets but found experimenting with capabilities and capability-based security features arduous given that LLVM has a massive codebase and is designed for a broad set of architectures. This thesis explores a design \& implementation of a new \g{nanopass} compiler for CHERI-RISC-V targets we call \emph{Glyco}. A \g{nanopass} transforms a program from one language to another language; a \g{nanopass} compiler transforms a program in a source language throughout numerous languages and \gs{nanopass} to a target language, or in the case of Glyco, CHERI-RISC-V assembly.
	
	This thesis begins with a basic implementation of Glyco with almost no capability-based security features and gradually extends it with security features. The first feature is a variation on a proposed secure \g{cc} we call \emph{\acrshort{ghscc}} that guarantees \g{lse} and a variation of \g{wbcf} we call \emph{unrepeatable return} that ensures \gs{retcap} can only be used once. We then compare this new \g{cc} in terms of runtime and memory overhead against a more traditional one using a few test programs. The compiler is then extended with two new features we call \emph{sealed objects} and \emph{sealed closures}. A sealed object's local state can only be accessed from within a method whereas a sealed closure's saved environment can only be accessed from within the closure body. We evaluate the \g{nanopass} approach by measuring each new feature's impact on the codebase.
\end{abstract}

\onlyinsubfile{\mainmatter{}\glsaddall\printglossaries}
\end{document}
