(
	value(
		letType(
			object((
				Counter,
				state: ((value, s32())),
				initialiser:
					(takes: (initialValue, s32(), sealed: false), in:
						do(
							setField(value, of: self(), to: named(initialValue)),
							then: self()
						)
					),
				methods:
					(increase, takes:, returns: s32(), in:
						let((newValue, binary(field(value, of: self()), add, constant(1))), in:
							do(
								setField(value, of: self(), to: named(newValue)),
								then: value(named(newValue))
							)
						)
					)
					(getCount, takes:, returns: s32(), in:
						value(field(value, of: self()))
					)
			)), in:
			let(
				(counter, object(Counter, constant(32)))
				(ignored, message(named(counter), increase,))
				(ignored, message(named(counter), increase,))
				(ignored, message(named(counter), increase,)), in:
				message(named(counter), getCount,)
			)
		)
	),
	functions:
)
