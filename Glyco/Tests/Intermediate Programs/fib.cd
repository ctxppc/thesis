(
	do(
		pushFrame((allocatedByteSize: 8))
		set(s32, register(a0), to: immediate(0))
		set(s32, register(a1), to: immediate(1))
		set(s32, register(a2), to: immediate(30))
		call(fib)
		popFrame()
		return()
	),
	procedures: (
		fib,
		in: do(
			pushFrame((allocatedByteSize: 24))
			set(cap, register(s6), to: location(register(s1)))
			set(cap, register(s9), to: location(register(s2)))
			set(cap, register(s10), to: location(register(s3)))
			set(cap, register(s11), to: location(register(s4)))
			set(cap, register(t4), to: location(register(s5)))
			set(cap, register(t5), to: location(register(s6)))
			set(cap, register(t6), to: location(register(s7)))
			set(cap, frameCell((offset: -8)), to: location(register(s8)))
			set(cap, frameCell((offset: -16)), to: location(register(s9)))
			set(cap, register(s7), to: location(register(s10)))
			set(cap, register(s8), to: location(register(s11)))
			set(s32, register(s2), to: location(register(a0)))
			set(s32, register(s1), to: location(register(a1)))
			set(s32, register(s4), to: location(register(a2)))
			if(
				do(
					set(s32, register(s3), to: location(register(s4))) set(s32, register(s3), to: immediate(0)),
					then: constant(true)
				),
				then: do(
					do()
					set(s32, register(a0), to: location(register(s1)))
					set(cap, register(s1), to: location(register(s6)))
					set(cap, register(s2), to: location(register(s9)))
					set(cap, register(s3), to: location(register(s10)))
					set(cap, register(s4), to: location(register(s11)))
					set(cap, register(s5), to: location(register(t4)))
					set(cap, register(s6), to: location(register(t5)))
					set(cap, register(s7), to: location(register(t6)))
					set(cap, register(s8), to: location(frameCell((offset: -8))))
					set(cap, register(s9), to: location(frameCell((offset: -16))))
					set(cap, register(s10), to: location(register(s7)))
					set(cap, register(s11), to: location(register(s8)))
					popFrame()
					return()
				),
				else: do(
					set(s32, register(s5), to: location(register(s1)))
					do()
					do()
					compute(location(register(s2)), add, location(register(s1)), to: register(s3))
					set(s32, register(s1), to: location(register(s4)))
					set(s32, register(s2), to: immediate(1))
					compute(location(register(s1)), sub, location(register(s2)), to: register(s1))
					set(s32, register(a0), to: location(register(s5)))
					set(s32, register(a1), to: location(register(s3)))
					set(s32, register(a2), to: location(register(s1)))
					call(fib)
					set(s32, register(s1), to: location(register(a0)))
					set(s32, register(a0), to: location(register(s1)))
					set(cap, register(s1), to: location(register(s6)))
					set(cap, register(s2), to: location(register(s9)))
					set(cap, register(s3), to: location(register(s10)))
					set(cap, register(s4), to: location(register(s11)))
					set(cap, register(s5), to: location(register(t4)))
					set(cap, register(s6), to: location(register(t5)))
					set(cap, register(s7), to: location(register(t6)))
					set(cap, register(s8), to: location(frameCell((offset: -8))))
					set(cap, register(s9), to: location(frameCell((offset: -16))))
					set(cap, register(s10), to: location(register(s7)))
					set(cap, register(s11), to: location(register(s8)))
					popFrame()
					return()
				)
			)
		)
	)
)