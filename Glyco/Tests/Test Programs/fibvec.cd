(
	do(
		pushFrame((allocatedByteSize: 8))
		set(s32, register(a0), to: immediate(1))
		set(s32, register(a1), to: immediate(1))
		call(fib)
		popFrame()
		return()
	),
	procedures: (
		fib,
		in: do(
			pushFrame((allocatedByteSize: 8))
			set(s32, register(s1), to: location(register(a0)))
			set(s32, register(s1), to: location(register(a1)))
			set(s32, register(s1), to: immediate(2))
			set(s32, register(a0), to: immediate(29))
			pushBuffer(bytes: 120, into: register(a1))
			set(s32, register(a0), to: location(register(s1)))
			set(s32, register(a1), to: location(register(a0)))
			set(cap, register(a2), to: location(register(a1)))
			call(recFib)
			set(s32, register(s1), to: location(register(a0)))
			set(s32, register(a0), to: location(register(s1)))
			popFrame()
			return()
		)
	)
	(
		recFib,
		in: do(
			pushFrame((allocatedByteSize: 8))
			set(s32, register(a4), to: location(register(a0)))
			set(s32, register(a6), to: location(register(a1)))
			set(cap, register(a5), to: location(register(a2)))
			if(
				do(
					set(s32, register(s1), to: location(register(a4))) set(s32, register(s1), to: location(register(a6))),
					then: constant(false)
				),
				then: do(
					set(cap, register(a0), to: location(register(a5)))
					set(s32, register(s1), to: location(register(a6)))
					compute(location(register(s1)), sll, immediate(4), to: register(s1))
					getElement(s32, of: register(a0), offset: location(register(s1)), to: register(s1))
					set(s32, register(a0), to: location(register(s1)))
					popFrame()
					return()
				),
				else: do(
					set(s32, register(s1), to: location(register(a4)))
					set(s32, register(a0), to: immediate(2))
					compute(location(register(s1)), sub, location(register(a0)), to: register(a1))
					set(s32, register(s1), to: location(register(a4)))
					set(s32, register(a0), to: immediate(1))
					compute(location(register(s1)), sub, location(register(a0)), to: register(a2))
					set(s32, register(s1), to: location(register(a4)))
					set(s32, register(a0), to: immediate(1))
					compute(location(register(s1)), add, location(register(a0)), to: register(a3))
					set(cap, register(a0), to: location(register(a5)))
					set(s32, register(s1), to: location(register(a1)))
					compute(location(register(s1)), sll, immediate(4), to: register(s1))
					getElement(s32, of: register(a0), offset: location(register(s1)), to: register(a1))
					set(cap, register(a0), to: location(register(a5)))
					set(s32, register(s1), to: location(register(a2)))
					compute(location(register(s1)), sll, immediate(4), to: register(s1))
					getElement(s32, of: register(a0), offset: location(register(s1)), to: register(s1))
					compute(location(register(a1)), add, location(register(s1)), to: register(s1))
					set(cap, register(a1), to: location(register(a5)))
					set(s32, register(a0), to: location(register(a4)))
					do()
					compute(location(register(a0)), sll, immediate(4), to: register(s1))
					setElement(s32, of: register(a1), offset: location(register(s1)), to: location(register(s1)))
					set(s32, register(s1), to: location(register(a3)))
					set(s32, register(a0), to: location(register(a6)))
					set(cap, register(a1), to: location(register(a5)))
					set(s32, register(a0), to: location(register(s1)))
					set(s32, register(a1), to: location(register(a0)))
					set(cap, register(a2), to: location(register(a1)))
					call(recFib)
					set(s32, register(s1), to: location(register(a0)))
					set(s32, register(a0), to: location(register(s1)))
					popFrame()
					return()
				)
			)
		)
	)
)